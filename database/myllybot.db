SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";

CREATE TABLE IF NOT EXISTS `access` (
 `user` varchar(20) NOT NULL,
 `level` tinyint(1) NOT NULL DEFAULT '1',
 `channel` varchar(255) NOT NULL,
 `server` varchar(255) NOT NULL,
 PRIMARY KEY (`user`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

CREATE TABLE IF NOT EXISTS `commands` (
 `ID` int(11) NOT NULL AUTO_INCREMENT,
 `command` varchar(32) NOT NULL,
 `path` varchar(256) NOT NULL,
 PRIMARY KEY (`ID`),
 KEY `command` (`command`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

CREATE TABLE IF NOT EXISTS `log` (
 `ID` int(11) NOT NULL AUTO_INCREMENT,
 `data_type` enum('PRIVMSG','ACTION') NOT NULL,
 `raw_data` text NOT NULL,
 `nick` varchar(32) NOT NULL,
 `ident` varchar(32) NOT NULL,
 `host` varchar(32) NOT NULL,
 `msg` text NOT NULL,
 `timestamp` int(11) NOT NULL,
 PRIMARY KEY (`ID`),
 KEY `nick` (`nick`),
 KEY `data_type` (`data_type`),
 KEY `ident` (`ident`),
 KEY `host` (`host`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

CREATE TABLE IF NOT EXISTS `url_log` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `nick` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
 `url` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
 `time` datetime NOT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `urli` (`urli`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;